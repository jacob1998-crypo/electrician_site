{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{{ SITE_NAME }}{% endblock %}</title>
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#264259",
            secondary: "#546A7B",
            accent: "#CCAD6B",
            "dark-text": "#1C2E4A",
            "light-text": "#F2F2F2",
          },
          fontFamily: {
            sans: ["Inter", "sans-serif"],
          },
        },
      },
    };
  </script>
  <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>
<body class="bg-dark-text font-sans">


  {% include 'partials/navbar.html' %}

  <main class="pt-20">
    {% block content %}{% endblock %}
  </main>

  <script>
    const contactForm = document.getElementById("contact-form");
    const successMessage = document.getElementById("success-message");

    if (contactForm) {
      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const formData = new FormData(contactForm);
        const firstName = formData.get("firstName");
        const lastName = formData.get("lastName");
        const email = formData.get("email");
        const phone = formData.get("phone");
        const message = formData.get("message");

        const subject = encodeURIComponent("Inquiry from Website");
        const body = encodeURIComponent(
          `Name: ${firstName} ${lastName}
          Email: ${email}
          Phone: ${phone}

          Message:
          ${message}`
        );

        // Show success message
        contactForm.classList.add("hidden");
        if (successMessage) successMessage.classList.remove("hidden");

        // Redirect to mail client after 2 seconds
        setTimeout(() => {
          window.location.href = `mailto:mutitujacob1998@gmail.com?subject=${subject}&body=${body}`;
        }, 2000);
      });
    }
  </script>

</body>
</html>
